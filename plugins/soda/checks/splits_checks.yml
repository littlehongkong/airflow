# plugins/soda/checks/splits_checks.yml
checks for splits:
  - row_count > 0
  - missing_percent(code) = 0
  - missing_percent(exchange) = 0
  - missing_percent(date) = 0
  - missing_percent(split) = 0
  - duplicate_count(code) = 0

  # 비율 포맷: 숫자(.숫자 가능) [/,:,\/] 숫자(.숫자 가능), 공백 허용
  - failed rows:
      name: invalid_split_ratio
      samples limit: 5
      fail condition: |
        NOT (split ~ '^[0-9]+(\.[0-9]+)?\s*[/:]\s*[0-9]+(\.[0-9]+)?$' 
             OR split ~ '^[0-9]+(\.[0-9]+)?\s*\\\\/\s*[0-9]+(\.[0-9]+)?$')