{
  "version": "1.0",
  "dataset": "price_master",
  "description": "일자별 종목별 핵심 시세 스냅샷 (asset_master 연계형)",
  "columns": [
    {
      "name": "security_id",
      "type": "string",
      "description": "asset_master 기반 전역 종목 식별자 (예: AST_KOR_KO_005930)",
      "constraints": {"required": true, "primary_key": true}
    },
    {
      "name": "ticker",
      "type": "string",
      "description": "종목코드 (로컬 기준)",
      "constraints": {"required": true}
    },
    {
      "name": "date",
      "type": "date",
      "description": "거래일자 (YYYY-MM-DD)",
      "constraints": {"required": true}
    },

    {"name": "open", "type": "float", "description": "시가"},
    {"name": "high", "type": "float", "description": "고가"},
    {"name": "low", "type": "float", "description": "저가"},
    {
      "name": "close",
      "type": "float",
      "description": "종가",
      "constraints": {"required": true}
    },
    {
      "name": "volume",
      "type": "float",
      "description": "거래량",
      "constraints": {"ge": 0}
    },
    {
      "name": "market_cap",
      "type": "float",
      "description": "시가총액 (통화 단위는 asset_master 참조)",
      "constraints": {"ge": 0}
    },
    {
      "name": "created_at",
      "type": "timestamp",
      "description": "ETL 생성 시각"
    },
    {
      "name": "source_vendor",
      "type": "string",
      "description": "수집원 (예: EODHD)",
      "constraints": {"required": true}
    },
    {
      "name": "snapshot_date",
      "type": "date",
      "description": "DW 스냅샷 기준일 (예: 2025-11-06)",
      "constraints": {"required": true}
    }
  ],
  "metadata": {
    "owner": "data_engineering_team",
    "layer": "warehouse",
    "update_policy": "append",
    "retention": "24_months",
    "version_control": true
  }
}
